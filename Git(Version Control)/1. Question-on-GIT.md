## 💡 Interview-Style Detailed Answer

**Question:** *“What will you do if a wrong commit happens in Git, or if a file is deleted by mistake?”*

---

### 1️⃣ First Step: Check if commit is pushed or not

* *“The first thing I check is whether the commit has already been pushed to the remote repository.”*

---

### 2️⃣ Case 1: Commit is NOT pushed yet (local only)

👉 I can safely rewrite history because no one else has pulled it.

* **Undo last commit but keep changes (fix and recommit):**

  ```bash
  git reset --soft HEAD~1
  ```

  (Moves HEAD back one commit, keeps changes staged).

* **Undo commit + unstage changes:**

  ```bash
  git reset --mixed HEAD~1
  ```

* **Undo commit + delete changes completely:**

  ```bash
  git reset --hard HEAD~1
  ```

➡ Example explanation: *“If I just want to edit my commit message or add files I missed, I’ll do a soft reset. If I want a full clean-up, I’ll do a hard reset.”*

---

### 3️⃣ Case 2: Commit is already pushed (team has it)

👉 I should NOT use `git reset` because it rewrites history and may break teammates’ work.

* **Best practice: Use revert (safe for shared history):**

  ```bash
  git revert <commit_id>
  ```

  (Creates a new commit that undoes changes of the wrong commit).

➡ Example explanation: *“This way the history stays intact, and teammates don’t face merge conflicts.”*

---

### 4️⃣ If a File is Deleted by Mistake

* **Restore a single file from last commit:**

  ```bash
  git checkout HEAD -- <filename>
  ```

  (or new command in Git 2.23+)

  ```bash
  git restore --source=HEAD -- <filename>
  ```

* **Restore from specific commit:**

  ```bash
  git checkout <commit_id> -- <filename>
  ```

➡ Example explanation: *“If I accidentally delete `config.yml`, I can restore it from the last good commit using checkout or restore.”*

---

### 5️⃣ If Accidentally Committed Sensitive Data (like a password)

* **Before pushing:** `git reset` + remove file from staging.
* **After pushing:** Use

  ```bash
  git filter-branch --tree-filter 'rm -f password.txt' HEAD
  ```

  or the safer modern tool:

  ```bash
  git filter-repo
  ```

  Then force push.

➡ (Only mention this if interviewer asks about **secrets/security**).

---

### ✅ Wrap-up (How to conclude your answer)

*“So, if the commit is local, I prefer `git reset`. If it’s already pushed, I use `git revert` to keep history safe. For deleted files, I use `git restore` or `git checkout`. This way I fix mistakes without disturbing my team’s work.”*

---

#### ⚡ This gives the interviewer a **complete 360° view**: reset vs revert, delete recovery, and teamwork-safe practices.
---

# Git Flowchart

![Git Flowchart](/images/git_conflict_resolution_flowchart.png)